Порядок запуска в общем случае:

1. Поставить окружение(python 3.10). Установить зависимости
```
pip install -r requirements.txt
```

2. Ручная подготовка списка патентов.(Для демонстрации можно пропустить этот шаг и использовать файл example_small_ids.txt или example_big_ids.txt в следующем шаге)
Для этого надо скачать базу surecmebl и загрузить её в duckdb. 
Затем запустить 
```
surechembl_db_scripts/read_from_duckdb.py
```
Затем запустить 
```
surechembl_db_scripts/create_patent_lists.py
```

3. Фильтрация и скачивание патентов(можно использовать example_small_ids.txt или example_big_ids.txt для демонстрации)
```
python downloader.py  --input_file <список патентов> --output_dir <папка для скачанных патентов>
```

4. Агент извлечения метрик из патентов. Под капотом используется агент для замены алиасов из метрик в названия молекул(из следующего пункта)
```
python get_measure.py --patent_dirs <папка со скачанными патентами>  <папка с данными по связям>
```

5. Добавляем в данные inchi_key и sequence по именам молекулы и таргета, нормализация данных и запись в таблицу
```
python bindingdb.py <папка с данными по связям> <итоговая таблица>
```

![img.png](img.png)